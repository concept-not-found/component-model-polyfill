(test "two instances of module that modifies same memory"
  (transpile
    (plugins
      "plugin-transform-adapter-module"
    )
    (adapter module (;0;)
      (module (;1;)
        (func (;0;) (param (;0;) i32)
          (i32.const (;address;) 0)
          (local.get (;param;) 0)
          (i32.store)
        )
        (export "store at 0" (func 0))
      )
      (instance (;0;) (instaniate (;module;) 1))
      (instance (;1;) (instaniate (;module;) 1))
      (alias (;instance;) 0 "store at 0" (func (;0;)))
      (alias (;instance;) 1 "store at 0" (func (;1;)))
      (export "store instance 0" (func 0))
      (export "store instance 1" (func 1))
    )
  )
  (expected
    (module (;0;))
  )
)
